<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, height=1080">
    <title>Quiz Funnel - {{ questionText|default('í€´ì¦ˆ') }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        :root {
            /* Color Palette */
            --primary: {{ primaryColor|default('#6C5CE7') }};
            --primary-light: {{ primaryLight|default('#A29BFE') }};
            --secondary: {{ secondaryColor|default('#FDF2F8') }};
            --accent: {{ accentColor|default('#FF6B9D') }};
            --success: {{ successColor|default('#00D9A5') }};
            --text-dark: #1A1A1A;
            --text-light: #FFFFFF;
            --text-muted: #666666;

            /* Gradients */
            --gradient-quiz: linear-gradient(135deg, #6C5CE7 0%, #A29BFE 100%);
            --gradient-fun: linear-gradient(135deg, #FF6B9D 0%, #C44569 100%);
            --gradient-result: linear-gradient(135deg, #00D9A5 0%, #00B894 100%);
            --gradient-soft: linear-gradient(180deg, #FDF2F8 0%, #FCE4EC 100%);

            /* Shadows */
            --shadow-card: 0 8px 32px rgba(108,92,231,0.15);
            --shadow-option: 0 4px 16px rgba(0,0,0,0.08);
            --shadow-hover: 0 12px 40px rgba(108,92,231,0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            width: 1080px;
            height: 1080px;
            overflow: hidden;
        }

        .card {
            width: 1080px;
            height: 1080px;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* ===== QUESTION CARD ===== */
        .card-question {
            background: var(--gradient-soft);
        }

        .question-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 70px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 50px;
        }

        .question-badge {
            background: var(--gradient-quiz);
            color: white;
            padding: 14px 32px;
            border-radius: 50px;
            font-size: 22px;
            font-weight: 700;
        }

        .question-progress {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .question-progress-bar {
            width: 200px;
            height: 10px;
            background: rgba(108,92,231,0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .question-progress-fill {
            height: 100%;
            background: var(--gradient-quiz);
            border-radius: 10px;
            width: {{ progress|default('33') }}%;
        }

        .question-progress-text {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
        }

        .question-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .question-emoji {
            font-size: 100px;
            margin-bottom: 40px;
        }

        .question-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            letter-spacing: 2px;
        }

        .question-text {
            font-size: 52px;
            font-weight: 800;
            color: var(--text-dark);
            line-height: 1.4;
            max-width: 850px;
        }

        .question-hint {
            margin-top: 40px;
            font-size: 24px;
            color: var(--text-muted);
        }

        .question-swipe {
            text-align: center;
            margin-top: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            color: var(--primary);
            font-size: 20px;
            font-weight: 600;
        }

        /* ===== OPTIONS CARD ===== */
        .card-options {
            background: var(--gradient-soft);
        }

        .options-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 70px;
        }

        .options-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .options-title {
            font-size: 36px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .options-subtitle {
            font-size: 24px;
            color: var(--text-muted);
        }

        .options-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 28px;
        }

        .option-item {
            background: white;
            border-radius: 28px;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: var(--shadow-option);
            border: 3px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }

        .option-item:hover,
        .option-item.selected {
            border-color: var(--primary);
            box-shadow: var(--shadow-hover);
            transform: translateY(-4px);
        }

        .option-icon {
            font-size: 64px;
            margin-bottom: 24px;
        }

        .option-letter {
            width: 50px;
            height: 50px;
            background: var(--gradient-quiz);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .option-text {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1.4;
        }

        .option-desc {
            margin-top: 12px;
            font-size: 20px;
            color: var(--text-muted);
        }

        .options-footer {
            text-align: center;
            margin-top: 40px;
        }

        .options-tap-hint {
            font-size: 22px;
            color: var(--text-muted);
        }

        /* ===== RESULT CARD ===== */
        .card-result {
            background: white;
        }

        .result-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .result-header {
            background: var(--gradient-result);
            color: white;
            padding: 60px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .result-header::before {
            content: 'ğŸ‰';
            position: absolute;
            font-size: 200px;
            opacity: 0.15;
            top: -40px;
            right: -40px;
        }

        .result-badge {
            display: inline-block;
            background: rgba(255,255,255,0.25);
            padding: 12px 28px;
            border-radius: 50px;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        .result-title {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .result-type {
            font-size: 32px;
            opacity: 0.9;
        }

        .result-content {
            flex: 1;
            padding: 60px;
            display: flex;
            flex-direction: column;
        }

        .result-main {
            display: flex;
            gap: 50px;
            margin-bottom: 40px;
        }

        .result-image-wrapper {
            flex-shrink: 0;
        }

        .result-image {
            width: 280px;
            height: 280px;
            border-radius: 24px;
            object-fit: cover;
            box-shadow: var(--shadow-card);
        }

        .result-info {
            flex: 1;
        }

        .result-label {
            font-size: 20px;
            font-weight: 600;
            color: var(--success);
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 16px;
        }

        .result-name {
            font-size: 42px;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 20px;
        }

        .result-description {
            font-size: 24px;
            color: var(--text-muted);
            line-height: 1.7;
        }

        .result-traits {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 24px;
        }

        .result-trait {
            background: var(--secondary);
            color: var(--primary);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 600;
        }

        .result-cta {
            margin-top: auto;
            display: flex;
            gap: 20px;
        }

        .result-cta-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            border-radius: 20px;
            font-size: 24px;
            font-weight: 700;
            text-decoration: none;
        }

        .result-cta-primary {
            background: var(--gradient-quiz);
            color: white;
        }

        .result-cta-secondary {
            background: var(--secondary);
            color: var(--primary);
        }

        .result-share {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            color: var(--text-muted);
        }
    </style>
</head>
<body>
    {% if cardType == 'question' %}
    <!-- QUESTION CARD -->
    <div class="card card-question">
        <div class="question-container">
            <div class="question-header">
                <span class="question-badge">{{ badge|default('í”¼ë¶€ íƒ€ì… í…ŒìŠ¤íŠ¸') }}</span>

                <div class="question-progress">
                    <div class="question-progress-bar">
                        <div class="question-progress-fill"></div>
                    </div>
                    <span class="question-progress-text">{{ currentQ|default('1') }}/{{ totalQ|default('3') }}</span>
                </div>
            </div>

            <div class="question-content">
                {% if emoji %}
                <div class="question-emoji">{{ emoji }}</div>
                {% endif %}

                <p class="question-number">QUESTION {{ currentQ|default('1') }}</p>
                <h1 class="question-text">{{ questionText|default('ì•„ì¹¨ì— ì¼ì–´ë‚¬ì„ ë•Œ<br>í”¼ë¶€ ìƒíƒœëŠ”?') }}</h1>

                {% if hint %}
                <p class="question-hint">{{ hint }}</p>
                {% endif %}
            </div>

            <div class="question-swipe">
                <span>ìŠ¤ì™€ì´í”„í•˜ì—¬ ë‹µë³€ ì„ íƒ</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
                </svg>
            </div>
        </div>
    </div>

    {% elif cardType == 'options' %}
    <!-- OPTIONS CARD -->
    <div class="card card-options">
        <div class="options-container">
            <div class="options-header">
                <h2 class="options-title">{{ title|default('ê°€ì¥ ê°€ê¹Œìš´ ë‹µì„ ì„ íƒí•˜ì„¸ìš”') }}</h2>
                <p class="options-subtitle">{{ subtitle|default('í•˜ë‚˜ë§Œ ì„ íƒí•´ì£¼ì„¸ìš”') }}</p>
            </div>

            <div class="options-grid">
                {% for option in options|default([]) %}
                <div class="option-item {% if option.selected %}selected{% endif %}">
                    {% if option.icon %}
                    <div class="option-icon">{{ option.icon }}</div>
                    {% else %}
                    <div class="option-letter">{{ option.letter|default(loop.index|string) }}</div>
                    {% endif %}
                    <p class="option-text">{{ option.text }}</p>
                    {% if option.desc %}
                    <p class="option-desc">{{ option.desc }}</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>

            <div class="options-footer">
                <p class="options-tap-hint">{{ footerText|default('ì„ íƒ í›„ ìŠ¤ì™€ì´í”„') }}</p>
            </div>
        </div>
    </div>

    {% elif cardType == 'result' %}
    <!-- RESULT CARD -->
    <div class="card card-result">
        <div class="result-container">
            <div class="result-header">
                <span class="result-badge">{{ badge|default('í…ŒìŠ¤íŠ¸ ê²°ê³¼') }}</span>
                <h1 class="result-title">{{ resultTitle|default('ë‹¹ì‹ ì˜ íƒ€ì…ì€') }}</h1>
                <p class="result-type">{{ resultType|default('ìˆ˜ë¶„ ë¶€ì¡±í˜• í”¼ë¶€') }}</p>
            </div>

            <div class="result-content">
                <div class="result-main">
                    {% if resultImage %}
                    <div class="result-image-wrapper">
                        <img src="{{ resultImage }}" alt="result" class="result-image">
                    </div>
                    {% endif %}

                    <div class="result-info">
                        <p class="result-label">{{ resultLabel|default('ì¶”ì²œ ì œí’ˆ') }}</p>
                        <h2 class="result-name">{{ productName|default('í•˜ì´ë“œë¡œ ë¶€ìŠ¤íŠ¸ ì„¸ëŸ¼') }}</h2>
                        <p class="result-description">{{ resultText|default('ìˆ˜ë¶„ ê³µê¸‰ê³¼ ë³´ìŠµì— íŠ¹í™”ëœ ì„¸ëŸ¼ìœ¼ë¡œ, ê±´ì¡°í•œ í”¼ë¶€ì— ê¹Šì€ ìˆ˜ë¶„ì„ ì „ë‹¬í•©ë‹ˆë‹¤.') }}</p>

                        {% if traits %}
                        <div class="result-traits">
                            {% for trait in traits %}
                            <span class="result-trait">{{ trait }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="result-cta">
                    <a href="#" class="result-cta-btn result-cta-primary">{{ ctaPrimary|default('ì œí’ˆ ë³´ëŸ¬ê°€ê¸°') }}</a>
                    <a href="#" class="result-cta-btn result-cta-secondary">{{ ctaSecondary|default('ë‹¤ì‹œ í…ŒìŠ¤íŠ¸') }}</a>
                </div>
            </div>
        </div>

        <div class="result-share">
            <span>ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°</span>
        </div>
    </div>
    {% endif %}
</body>
</html>
